## Setup
1. Clone the repo: `git clone https://github.com/crytic/damn-vulnerable-defi-echidna`
2. install the dependencies via `yarn install`.

## Context
此处描述了挑战：https://www.damnvulnerabledefi.xyz/challenges/2.html，我们假设读者熟悉它。

## Goals
- 使用正确的合约和必要的余额设置测试环境。
- 分析 test/naive-receiver/naive-receiver.challenge.js 中的 before 函数，以确定需要进行哪些初始设置。
- 添加一个property来检查 FlashLoanReceiver 合约的余额是否可以改变。
- 使用必要的配置选项创建一个 config.yaml。
- 一旦 Echidna 发现错误，解决问题，然后用 Echidna 重新尝试您的property。

只有以下合同是相关的：
- `contracts/naive-receiver/FlashLoanReceiver.sol`
- `contracts/naive-receiver/NaiveReceiverLenderPool.sol`

## Hints
我们建议先尝试，不要阅读以下提示。 提示在提示分支中。

- 我们要找的不变量是“接收方合约的余额不能减少”
- 阅读什么是多 abi 选项
- 在contracts/naive-receiver/NaiveReceiverEchidna.sol 中提供了一个模板
- naivereceiver.yaml 中提供了一个配置文件

## Solution
此解决方案可以在解决方案分支中找到。

解决方案解释（前面有剧透）
天真的接收者挑战的目标是实现任意用户可以调用请求 FlashLoanReceiver 的快速贷款。 事实上，即使任意用户没有以太，也可以这样做。

Echidna 通过简单地使用 `FlashLoanReceiver` 的地址和任意数量调用 `NaiveReceiverLenderPool.flashLoan()` 来发现这一点。

请参阅 Echidna 的以下示例输出：
```
echidna-test . --contract NaiveReceiverEchidna --config ./test/naive-receiver/config.yaml
...

echidna_test_contract_balance: failed!💥  
  Call sequence:
    flashLoan(0x62d69f6867a0a084c6d313943dc22023bc263691,353073667)

...
```
